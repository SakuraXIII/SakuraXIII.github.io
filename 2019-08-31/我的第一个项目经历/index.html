<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>二刺螈小破站</title>
  
  <link rel="alternate" href="/atom.xml" title="小贱客" type="application/atom+xml">
  
  
  <link rel="shortcut icon" href="/images/favicon.png"> 
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1317659_91ay27oeya8.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
  <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
</head></html>

<body>
  <div id="container">
    <div id="wrap">
      <!--<canvas></canvas> TODO-->


<!--//头部展示-->
<header>
  <!--页面背景图-->
  <div class="theme-bg"></div>
  <!--导航栏-->
  <div class="hidden-bar">
    <nav class="navbar">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="logo">
            <a class="navbar-brand" href="#"><img src="/images/favicon.png"></a>
          </div>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="/" title="首页" class="iconfont iconhome">首页</a></li>
            <li><a href="/archives" title="文章" class="iconfont iconbook">文章</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right hidden-xs">
            <li><a id="times"></a></li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <!--//标题-->
  <div class="top-banner">
    <!--//超大屏下显示-->
    <div class="hidden-xs hidden-sm  hidden-md">
      <img src="/images/2233-bask.jpg" style="width: 100%;">
      <div class="ban-title">
        <a class="portrait" href="/">
          <img src="/images/2233&cat.jpg">
        </a>
        <h1>er 刺螈</h1>
        <p>Welcome to my personal site</p>
        <a href="https://github.com/SakuraXIII/SakuraXIII.github.io" title="Github Pages"
          class="iconfont icongithub"></a>
        <a href="https://www.zhihu.com/people/an-ye-yong-heng-45/activities" title="玩知乎嘛"
          class="iconfont iconzhihu1"></a>
        <div class="hitokoto-text">
          <p class="hitokoto"></p><strong></strong>
        </div>
      </div>
    </div>
    <!--//中屏-->
    <div class="hidden-lg hidden-xs md img">
      <div class="ban-title mdtitle">
        <h1>er刺螈</h1>
        <p>Welcome to my personal site</p>
        <a href="https://github.com/SakuraXIII/SakuraXIII.github.io" class="iconfont icongithub"></a>
        <a href="https://www.zhihu.com/people/an-ye-yong-heng-45/activities" class="iconfont iconzhihu1"></a>
        <div class="hitokoto-text">
          <p class="hitokoto"></p><strong></strong>
        </div>
      </div>
    </div>
    <!--手机上只显示图片，不显示文字-->
    <div class="hidden-lg hidden-md hidden-sm other img">
      <div class="ban-title othertitle">
        <h1>er刺螈</h1>
        <p>Welcome to my personal site</p>
      </div>

    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-我的第一个项目经历" class="article article-type-post" itemscope
  itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019-08-31/我的第一个项目经历/" class="article-date">
  <time datetime="2019-08-31T10:11:18.000Z" itemprop="datePublished">2019-08-31</time>
</a>
    
  </div>
  <div class="article-inner bgimg">
    
    
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      关于我的第一个项目的经历
    </h1>
  

    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
      
      <p>从8月20号开始到今天8月31号，11天的时间，35个文件的创建，终于，我人生中的第一个项目完成了，仔细想想，这次赶鸭子上架的项目经历真是一下子学到了很多的东西。从一开始的只知道需要写页面，到现在了解前后分离式项目模式中前端需要完成的任务，俺不由得有些膨胀了。在这里，就记录一下我完成这个项目后所了解到的完成一个项目的大致步骤。</p>
<h3 id="No-1起步"><a href="#No-1起步" class="headerlink" title="No. 1起步"></a>No. 1起步</h3><p>一个项目的开始，首先应该是前后端人员分析项目需要实现的功能，通过协商交流以确定接口的功能及请求参数，返回数据等其他问题。就我这次所完成的项目的情况而言，由于本次项目不是从零开始，而是将甲方提供的一个生物数据库网站进行翻新，前端技术需求是使用Bootstrap UI框架。所以，难度上来说不高。</p>
<p>最开始不知道需要分析页面结构及功能，前端人员需要负责写接口API文档，和后台人员协商决定字段名称。后来换了一位学长来接手后台逻辑部分的实现，让我们写接口文档，这才了解到这个问题。后面又因为经验不足，设计的接口文档返回的数据少了，不得以让学长再重新改。那时候啊。。真是被训惨了QAQ。后来慢慢熟悉了基本上就没有问题了。不得不说，学长还是太强了（你大爷终究是你大爷😂）。</p>
<h3 id="No-2施工"><a href="#No-2施工" class="headerlink" title="No. 2施工"></a>No. 2施工</h3><p>在后台实现逻辑功能的时候，前端则负责写出静态的页面，这里不得不说使用框架效率真的高。我感觉我已经熟练使用Bootstrap了。在接口完成之后，在后台提供的测试接口的后台页面（我们使用JEECG后台管理，Swagger UI作为接口文档测试页面），同时将返回到的数据等数据进行归纳整理，对每个接口需要的各种参数有所了解，作为主要负责人，更是要清楚。方便后期使用接口。</p>
<p>就前端而言，在实际的开发过程中，一般都有一个作为公共方法的<code>common.js</code> 文件，里面存储的都是使用频率较高的封装好了的方法，为团队人员提供便利，缩短开发时间。在静态页面完成，接口API完成之后，就可以开始使用模板引擎将静态页面处理成动态加载数据的动态页面了。这次项目使用的是<code>art-template</code> ，它可以将返回到的JSON数据以对象的形式加载到页面。可以很方便的修改数据。</p>
<h3 id="No-3收尾"><a href="#No-3收尾" class="headerlink" title="No. 3收尾"></a>No. 3收尾</h3><p>在项目最后完成的时候，万万不能忘记检查啊，一定要将每一个接口测试一遍，就是在昨天晚上，检查完毕，全都没有问题，电脑关机！！当部署到服务器上，一打开：</p>
<ul>
<li>学长：嗯？？？这个轮播图怎么点的没有用？？？</li>
<li>我：我看看。。。忘了，我忘记轮播图上还有个接口。。。</li>
</ul>
<p>于是，开电脑，解决问题，重新部署，一下在搞到11点。</p>
<h3 id="我遇到的问题"><a href="#我遇到的问题" class="headerlink" title="我遇到的问题"></a>我遇到的问题</h3><p>在这个项目中，我在前端方面遇到的各种问题，着实让我感觉得到极大的技术提升：</p>
<ul>
<li><p>第一个问题：关于列表实现分页的问题，最开始不了解接口返回的数据格式，以为一次返回所有数据，就自己在考虑怎样通过返回的数据进行计算，得到总页数，并实现点击指定页数切换到相应页面，在控制台输出了无数次错误后，终于完成了分页。后来学长直接告诉我，后台会返回对应的页数及数据量，根本就不需要我来考虑这个问题，而且一次把所有数据返回浏览器，浏览器可能会直接崩溃，不现实。这个时候，我才意识到我又要删代码😭</p>
</li>
<li><p>第二个问题：如何通过通过链接跳转将作为参数的id值传到另一个页面，这个问题很快就想到解决办法了，因为发现网站上点击某个目标都会在地址栏里添加许多字符且都带有 <code>?</code> ，不难推测出就是通过在跳转的地址后附带上<code>?id=xxx</code> 就行了，最后也确实实现了跳转，然后跳转之后的页面内容无法加载出来，且控制台输出错误信，一直没有查出问题，最后向学长请教才知道附带参数的 <code>?</code> 与前面指定跳转的页面的字符之间被我用 <code>/</code> 分隔开了。也就是 <code>/index.html?id=xxx</code> 被我写成 <code>/index.html/?id=xxx</code> 。</p>
</li>
<li><p>最后一个问题：这是我遇到的最为困难的一个问题： <code>路径导航</code>  ，在原网站中是有这个功能的，且能够在通过从地址栏中直接输入任意一级的网址直接跳转的情况下，仍然加载出正确的路径。我在网上查了很久都没有找到能够实现这一功能的案例，甚至认为是早已在源码中给每一级固定写好了的（后来通过在实际开发中使用接口异步请求的情况来看应该是不可能的）。Bootstrap虽然提供了路径导航的组件，然而是静态的，最后无奈只有放弃。然而在最后在项目准备完工打包放在服务器上时，学长又提出了这个需求，因为通过异步请求多次刷新后，若想返回只能通过浏览器的后退按钮实现，这不够人性化。没有办法，我只能尝试一下一开始设想的通过存储在sessionStorage实现保存信息的方法：</p>
<ul>
<li><p>首先获取到跳转的对象的所需要的相关信息：name  id</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.sessionStorage.setItem(<span class="string">'key'</span>,<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">    http : id,</span><br><span class="line">    name : name</span><br><span class="line">&#125;))</span><br><span class="line"><span class="comment">//session不支持对象格式，只支持JSON格式</span></span><br><span class="line"><span class="comment">//以对象的形式并转换成JSON字符串保存在浏览器session中</span></span><br></pre></td></tr></table></figure>

<p>这里可以将键key设定的特殊一点，方便读取</p>
</li>
<li><p>跳转到新页面后，通过循环读取所有session中的值，写入指定位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> len = <span class="built_in">window</span>.sessionStorage.length</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key = <span class="number">0</span>; key&lt;len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> val = <span class="built_in">window</span>.sessionStorage.getItem(key) <span class="comment">//通过key键获取对应值</span></span><br><span class="line">	val = <span class="built_in">JSON</span>.parse(val)  <span class="comment">//将JSON字符格式转换为对象</span></span><br><span class="line">    <span class="comment">// 再将val.http,val.name  分别作为链接参数，链接名写入对应位置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后还要考虑路径导航生成后，点击路径导航中的某一级跳转到指定位置后，要将其后的路径全部删除，即删除对应session键值对</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#navigation a'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> item = $(<span class="string">'#navigation a'</span>).index(<span class="keyword">this</span>); <span class="comment">//获取点击目标在路径中相对索引值</span></span><br><span class="line">	<span class="keyword">for</span> (; item &lt; len; item++) &#123;</span><br><span class="line">        <span class="comment">//将索引值对应的键key 删除，我这里设定刚好是对应路径顺序</span></span><br><span class="line">		<span class="built_in">window</span>.sessionStorage.removeItem(item + <span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p>以上就是实现动态加载路径导航的方法，经过测试，一般情况下，还是没有问题的，但是如果从地址栏输入中间的某一级的地址直接进入，则没有办法了。所以，严格来说，这个功能还是没有实现。我还没有发现能让其自行得到页面层次结构的方法。</p>

      
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/日记/">日记</a></li></ul>

    </footer>
  </div>
  
  
<nav id="article-nav">
  
    <a href="/2019-09-13/java初学（一）/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          java初学（一）
        
      </div>
    </a>
  
  
    <a href="/2019-08-08/博客更新日志/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">博客更新日志</div>
    </a>
  
</nav>

  
</article>

</section>
        
        <aside id="sidebar" class="hidden-xs">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/教程/">教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日志/">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日记/">日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019-10-18/Nodejs实现接口请求/">Nodejs实现接口的请求</a>
          </li>
        
          <li>
            <a href="/2019-10-13/阿里云服务器初体验/">阿里云服务器初体验</a>
          </li>
        
          <li>
            <a href="/2019-10-10/Nodejs爬取网页学习/">NodeJs爬取网页学习</a>
          </li>
        
          <li>
            <a href="/2019-09-19/Gridea客户端管理博客/">Gridea客户端管理博客</a>
          </li>
        
          <li>
            <a href="/2019-09-13/java初学（一）/">java初学（一）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Sakura Sun<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
  <img src="/images/2233&sleep.png" style="position: fixed;bottom: 0;right: 0;width: 15%;">
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
  <script src="/js/snow.js"></script>
  <script src="/js/style.js"></script>
</body>

</html>